<html>
  <head>
  	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  
  	
  </head>
  <style type="text/css">
  	.container {
  		
  	}
  	.container form {
  		margin: 0;
		  position: absolute;
		  top: 50%;
		  left: 50%;
		  transform: translate(-50%, -50%);
		  width: 400px;
		  min-height: 320px;
  		padding: 20px;
  		box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  		border-radius: 5px;
  	}
  	.container form .form-group {
  		margin-top: 10px;
  	}

  	.container form .form-group button {
  		width: 100%;
  	}
  </style>
  <body>
  	<div class="container">
  		<form>
  			<div class="form-group">
	  			<label>Enter Amount(USD)</label>
	  			<input type="text" class="form-control" id="user-amount">
	  		</div>
	  		<div class="form-group">
	  			<button type="button" class="btn btn-primary" id="user-checkout-btn">Checkout now</button>
	  		</div>
  		</form>
  	</div>
  	<!--
    <input
      type="button"
      value="Pay with Lightbox"
      onclick="Checkout.showLightbox();"
    />
    <input
      type="button"
      value="Pay with Payment Page"
      onclick="Checkout.showPaymentPage();"
    />-->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <script
      src="https://ap-gateway.mastercard.com/checkout/version/61/checkout.js"
      data-error="errorCallback"
      data-cancel="cancelCallback"
      data-complete="completeCallback"
    ></script>
    <script type="text/javascript">

    	$("#user-checkout-btn").on("click", function(){
    		Checkout.showLightbox();
    	})
      
      function errorCallback(error) {
        console.log(JSON.stringify(error));
      }
      function cancelCallback() {
        console.log("Payment cancelled");
      }
      function completeCallback(resultIndicator,sessionVersion) {
                console.log(sessionVersion);
                console.log(resultIndicator);
      }

      reference = () => {return "ORDER123" + Math.floor(Math.random() * 1000 + 1 + 8)};

      Checkout.configure({
        session: { 
              id: 'SESSION0002937924608L2160166L01' 
            },
        merchant: "TESTGOLDENARTS",
        order: {
          amount: 50,
          currency: "USD",
          description: "Ordered goods",
          id: reference(),
          reference: reference()
        },
        transaction: {
                reference: reference()
            },
        interaction: {
          operation: "PURCHASE",
          merchant: {
            name: "TEST Payment:",
            address: {
              line1: "200 Sample St",
              line2: "1234 Example Town",
            },
          },
        },
      });
    </script>

  </body>
</html>
